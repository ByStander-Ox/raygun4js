
<!DOCTYPE html>
<html>
  <head>
    <title>Raygun4JS with V2 API</title>
    <script src="/fixtures/common/instrumentXHRs.js"></script>
    <script type="text/javascript">
        !function(a,b,c,d,e,f,g,h,i,j){a.RaygunObject=e,a[e]=a[e]||function(){
        (a[e].o=a[e].o||[]).push(arguments)},g=b.createElement(c),h=b.getElementsByTagName(c)[0],
        g.async=1,g.src=d,a.__raygunNoConflict=!!f,h.parentNode.insertBefore(g,h),i=a.onerror,
        a.onerror=function(b,c,d,f,g){i&&i(b,c,d,f,g),g||(g=new Error(b)),a[e].q=a[e].q||[],
        a[e].q.push({e:g})},j=a.fetch,j&&(a.__raygunOriginalFetch=j,a.fetch=function(){
        return a.__raygunFetchCallback?a.__raygunFetchCallback.apply(null,arguments):j.apply(null,arguments);
        })}(window,document,"script","/dist/raygun.js","rg4js");
    </script>
    <script>
      var referencedFetch = window.fetch;
    </script>
  </head>
  <body>
    <script type="text/javascript">
      rg4js('apiKey', 'abcd==');
      rg4js('enablePulse', true);
      rg4js('options', {
        allowInsecureSubmissions: true,
        debugMode: true
      });

      setTimeout(function () {
        if (typeof window.fetch !== 'undefined') {
          window.supportsFetch = true;

          referencedFetch('rumXhrStatusCodes.html');
          referencedFetch('rumXhrStatusCodes.html?foo=bar');
          referencedFetch('foo.html');
          referencedFetch('http://localhost:4567/fixtures/v2/rumXhrStatusCodes.html');
        }
      }, 500);
    </script>

  </body>
</html>
